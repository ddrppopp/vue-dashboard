(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{179:function(e,n,t){"use strict";var a=t(197),l=t.n(a),i=t(17),o=t.n(i);const s=l.a.create({baseURL:"http://localhost:3000"});s.interceptors.request.use(e=>(e.headers["ds-token"]=o.a["ds-token"],e)),n.a=s},181:function(e,n,t){var a=t(53),l=t(269);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var i={insert:"head",singleton:!1},o=(a(l,i),l.locals?l.locals:{});e.exports=o},268:function(e,n,t){"use strict";var a=t(181);t.n(a).a},269:function(e,n,t){(n=t(54)(!1)).push([e.i,"\n.chart-nav {\n    display: flex;\n    justify-content: space-between;\n    padding-top: 1px;\n}\n.app-container {\n    display: flex;\n}\n#data-panel {\n    width: 30%;\n}\n#chart-panel {\n    width: 70%;\n}\n.draggable-wrapper {\n    min-height: 30px;\n    border-bottom: 1px solid #dad7d7;\n}\n",""]),e.exports=n},356:function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("div",{staticClass:"chart-nav"},[t("span",[t("span",{on:{back:e.goBack}},[t("i",{staticClass:"el-icon-back"}),e._v("返回\n            ")]),e._v(" "),t("span",[e._v("创建图表")]),e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:e.showAllChart}},[e._v("全部图表")])],1),e._v(" "),t("span",[t("el-button",{attrs:{type:"primary"}},[e._v("保存")]),e._v(" "),t("el-button",{attrs:{type:"primary"}},[t("i",{staticClass:"el-icon-download"})])],1)]),e._v(" "),t("div",{staticClass:"app-container"},[t("el-card",{attrs:{id:"data-panel"}},[t("data-panel",{ref:"dataPanel",attrs:{dimensions:e.dimensionList},on:{change:e.handleDataSrcChange}})],1),e._v(" "),t("el-card",{attrs:{id:"chart-panel"}},[t("el-form",[t("el-form-item",{attrs:{label:"维度"}},[t("draggable",{staticClass:"draggable-wrapper",attrs:{group:{name:"col",put:!0,pull:!0}},model:{value:e.dimensionList,callback:function(n){e.dimensionList=n},expression:"dimensionList"}},e._l(e.dimensionList,(function(n){return t("el-tag",{key:n.Column,attrs:{closable:""},on:{close:function(t){return e.handleCloseDimension(n.Id)}}},[e._v(e._s(n.Column))])})),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"数值"}},[t("draggable",{staticClass:"draggable-wrapper",attrs:{group:{name:"col",put:!0,pull:!0}},model:{value:e.calculutionList,callback:function(n){e.calculutionList=n},expression:"calculutionList"}},e._l(e.calculutionList,(function(n){return t("el-tag",{key:n.Column,attrs:{closable:""},on:{close:function(t){return e.handleCloseField(n.Id)}}},[e._v(e._s(n.Column))])})),1)],1)],1)],1)],1)])};a._withStripped=!0;var l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("el-form",{attrs:{"label-position":"top"}},[t("el-form-item",{attrs:{label:"数据源"}},[t("el-select",{on:{change:e.dataSrcChange},model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}},e._l(e.dataSourceList,(function(e,n){return t("el-option",{key:n,attrs:{value:e.value,label:e.label}})})),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"字段"}},[t("draggable",{attrs:{move:e.handleMove,group:{name:"col",put:!1,pull:"clone"}},model:{value:e.schemes,callback:function(n){e.schemes=n},expression:"schemes"}},[t("transition-group",e._l(e.schemes,(function(n){return t("div",{key:n.Column},[e._v(e._s(n.Column))])})),0)],1)],1)],1)],1)};l._withStripped=!0;var i=[{value:"complexity",label:"complexity"}],o=t(179);function s(e){return Object(o.a)({url:`/exesql?sql=${e}`})}var c=t(206),u=t.n(c),r={name:"data-panel",components:{draggable:u.a},data:()=>({selected:"",dataSourceList:[],schemes:[]}),props:{dimensions:{type:Array}},methods:{initDataPanel(e){this.selected=e},handleMove(e,n){return console.log(e.draggedContext.element),!this.dimensions.find(n=>e.draggedContext.element===n)},dataSrcChange(){this.$emit("change",this.selected),this.fetchSchem()},fetchSchem(){this.selected?s(`desc ${this.selected}`).then(e=>{let n=e.data.data;console.log(n),this.schemes=n.map((e,n)=>({Id:n,Type:e.Type,Column:e.Field}))}):this.schemes=[]}},created(){this.dataSourceList=i},updated(){console.log(this.list)}},d=t(52),m=Object(d.a)(r,l,[],!1,null,null,null);m.options.__file="src/views/ChartPanel/components/dataPanel.vue";var p=m.exports;const h=[{name:"tinyint",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]},{name:"smallint",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]},{name:"mediumint",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]},{name:"int",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]},{name:"bigint",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]},{name:"float",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]},{name:"double",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]},{name:"real",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]},{name:"decimal",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]},{name:"timestamp",needQuotation:!1,availableFunc:["count","none"]},{name:"date",needQuotation:!0,availableFunc:["count","none"]},{name:"time",needQuotation:!0,availableFunc:["count","none"]},{name:"datetime",needQuotation:!0,availableFunc:["count","none"]},{name:"year",needQuotation:!0,availableFunc:["count","none"]},{name:"char",needQuotation:!0,availableFunc:["count","none"]},{name:"varchar",needQuotation:!0,availableFunc:["count","none"]},{name:"tinytext",needQuotation:!0,availableFunc:["count","none"]},{name:"text",needQuotation:!0,availableFunc:["count","none"]},{name:"mediumtext",needQuotation:!0,availableFunc:["count","none"]},{name:"longtext",needQuotation:!0,availableFunc:["count","none"]},{name:"integer",needQuotation:!1,availableFunc:["sum","avg","max","min","count","none"]}];function v(e){let n;return n=e.indexOf("(")>=0?h.find(n=>n.name===e.split("(")[0]):h.find(n=>n.name===e),n}var g={data:()=>({dimensionList:[],calculutionList:[],filterStr:void 0,limit:200,orderByStrs:[],dataSrc:void 0}),components:{dataPanel:p,draggable:u.a},methods:{goBack(){this.$router.go(-1)},showAllChart(){},handleCloseDimension(e){this.dimensionList.splice(e,1)},handleCloseField(e){this.fieldList.splice(e,1)},handleDataSrcChange(e){this.dataSrc=e}},computed:{sqlSentence(){return function({dataSrc:e,selectedCalcul:n,selectedDimension:t,orderByStrs:a,filterStr:l,limit:i}){let o=[];const s=[];let c,u,r,d=[];if(d=d.concat(n).concat(t),o=d.map(e=>{const t=n.find(n=>n.Column===e.Column);return t&&"none"!==t.calculFunc?`${t.calculFunc||v(t.Type).availableFunc[0]}(${t.Column}) as ${t.Column}`:(s.push(e.Column),e.Column)}),0!==o.length&&e)return s.length>0&&(c=`GROUP BY ${s.join()}`),a.length>0&&(u=`ORDER BY ${a.join()}`),l&&(r=`where ${l}`),`SELECT ${o.join()} FROM ${e} ${r||""} ${c||""} ${u||""} LIMIT ${i||200}`}({dataSrc:this.dataSrc,selectedDimension:this.dimensionList,selectedCalcul:this.calculutionList,filterStr:this.filterStr,limit:this.limit,orderByStrs:this.orderByStrs})}},watch:{sqlSentence:function(e){console.log(e),s(e).then(e=>{console.log(e.data.data)})},"$route.params.id":{immediate:!0,handler(){"create"===this.$route.params.id&&(this.dataSrc="a",this.$nextTick(()=>{this.$refs.dataPanel.initDataPanel(this.dataSrc)}))}}}},b=(t(268),Object(d.a)(g,a,[],!1,null,null,null));b.options.__file="src/views/ChartPanel/index.vue";n.default=b.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZmV0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0NoYXJ0UGFuZWwvaW5kZXgudnVlPzZlZDYiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0NoYXJ0UGFuZWwvaW5kZXgudnVlP2Y1ZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0NoYXJ0UGFuZWwvaW5kZXgudnVlP2RlYWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0NoYXJ0UGFuZWwvaW5kZXgudnVlPzZjZWEiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL0NoYXJ0UGFuZWwvY29tcG9uZW50cy9kYXRhUGFuZWwudnVlP2E3YjciLCJ3ZWJwYWNrOi8vLy4vc3JjL21vY2svZGF0YVNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2V4ZVNxbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvQ2hhcnRQYW5lbC9jb21wb25lbnRzL2RhdGFQYW5lbC52dWU/ZWFhYiIsIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL0NoYXJ0UGFuZWwvY29tcG9uZW50cy9kYXRhUGFuZWwudnVlIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9DaGFydFBhbmVsL2NvbXBvbmVudHMvZGF0YVBhbmVsLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvY29uZmlncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvYnVpbGRTZW50ZW5jZS5qcyIsIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL0NoYXJ0UGFuZWwvaW5kZXgudnVlIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9DaGFydFBhbmVsL2luZGV4LnZ1ZT8zMzkyIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9DaGFydFBhbmVsL2luZGV4LnZ1ZSJdLCJuYW1lcyI6WyJheGlvcyIsImNyZWF0ZSIsImJhc2VVUkwiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwiY29uZmlnIiwiaGVhZGVycyIsImFwaSIsImNvbnRlbnQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vZHVsZSIsImkiLCJvcHRpb25zIiwiZXhwb3J0ZWQiLCJsb2NhbHMiLCJleHBvcnRzIiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwicHVzaCIsInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwib24iLCJiYWNrIiwiZ29CYWNrIiwiX3YiLCJhdHRycyIsInR5cGUiLCJjbGljayIsInNob3dBbGxDaGFydCIsImlkIiwicmVmIiwiZGltZW5zaW9ucyIsImRpbWVuc2lvbkxpc3QiLCJjaGFuZ2UiLCJoYW5kbGVEYXRhU3JjQ2hhbmdlIiwibGFiZWwiLCJncm91cCIsIm5hbWUiLCJwdXQiLCJwdWxsIiwibW9kZWwiLCJ2YWx1ZSIsImNhbGxiYWNrIiwiJCR2IiwiZXhwcmVzc2lvbiIsIl9sIiwiaXRlbSIsImtleSIsIkNvbHVtbiIsImNsb3NhYmxlIiwiY2xvc2UiLCIkZXZlbnQiLCJoYW5kbGVDbG9zZURpbWVuc2lvbiIsIklkIiwiX3MiLCJjYWxjdWx1dGlvbkxpc3QiLCJoYW5kbGVDbG9zZUZpZWxkIiwiX3dpdGhTdHJpcHBlZCIsImRhdGFTcmNDaGFuZ2UiLCJzZWxlY3RlZCIsImRhdGFTb3VyY2VMaXN0IiwiaW5kZXgiLCJtb3ZlIiwiaGFuZGxlTW92ZSIsInNjaGVtZXMiLCJ0YWJsZXMiLCJleGVTcWwiLCJzcWwiLCJmZXRjaCIsInVybCIsImNvbXBvbmVudCIsIl9fZmlsZSIsImRhdGFUeXBlIiwibmVlZFF1b3RhdGlvbiIsImF2YWlsYWJsZUZ1bmMiLCJ0cmltQ29sVHlwZSIsInN0ciIsImNvbFR5cGUiLCJpbmRleE9mIiwiZmluZCIsInNwbGl0IiwiZGF0YVNyYyIsInNlbGVjdGVkQ2FsY3VsIiwic2VsZWN0ZWREaW1lbnNpb24iLCJvcmRlckJ5U3RycyIsImZpbHRlclN0ciIsImxpbWl0IiwiZmllbGRzIiwiZ3JvdXBzIiwiZ3JvdXBCeSIsIm9yZGVyQnkiLCJ3aGVyZSIsImFsbFNlbGVjdGVkIiwiY29uY2F0IiwibWFwIiwiZmllbGQiLCJjYWxjdWxGaWVsZCIsImNvbCIsImNhbGN1bEZ1bmMiLCJUeXBlIiwibGVuZ3RoIiwiam9pbiJdLCJtYXBwaW5ncyI6IjBGQUFBLHVDQUVBLE1BQU1BLEVBQVEsSUFBTUMsT0FBTyxDQUN2QkMsUUFBUywwQkFHYkYsRUFBTUcsYUFBYUMsUUFBUUMsSUFBS0MsSUFDNUJBLEVBQU9DLFFBQVEsWUFBYyxJQUFPLFlBQzdCRCxJQUVJLE8sb0JDVmYsSUFBSUUsRUFBTSxFQUFRLElBQ0ZDLEVBQVUsRUFBUSxLQUlDLGlCQUZ2QkEsRUFBVUEsRUFBUUMsV0FBYUQsRUFBUUUsUUFBVUYsS0FHL0NBLEVBQVUsQ0FBQyxDQUFDRyxFQUFPQyxFQUFJSixFQUFTLE1BRzlDLElBQUlLLEVBQVUsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixHQUloQkMsR0FGU1AsRUFBSUMsRUFBU0ssR0FFWEwsRUFBUU8sT0FBU1AsRUFBUU8sT0FBUyxJQUlqREosRUFBT0ssUUFBVUYsRyxpQ0NwQmpCLG9CQUFrVCxHLHFCQ0VsVEUsRUFEa0MsRUFBUSxHQUNoQ0MsRUFBNEIsSUFFOUJDLEtBQUssQ0FBQ1AsRUFBT0MsRUFBSSw2U0FBOFMsS0FFdlVELEVBQU9LLFFBQVVBLEcsd0NDTmpCLElBQUlHLEVBQVMsV0FDWCxJQUFJQyxFQUFNQyxLQUNOQyxFQUFLRixFQUFJRyxlQUNUQyxFQUFLSixFQUFJSyxNQUFNRCxJQUFNRixFQUN6QixPQUFPRSxFQUFHLE1BQU8sQ0FDZkEsRUFBRyxNQUFPLENBQUVFLFlBQWEsYUFBZSxDQUN0Q0YsRUFDRSxPQUNBLENBQ0VBLEVBQUcsT0FBUSxDQUFFRyxHQUFJLENBQUVDLEtBQU1SLEVBQUlTLFNBQVksQ0FDdkNMLEVBQUcsSUFBSyxDQUFFRSxZQUFhLGlCQUN2Qk4sRUFBSVUsR0FBRyxzQkFFVFYsRUFBSVUsR0FBRyxLQUNQTixFQUFHLE9BQVEsQ0FBQ0osRUFBSVUsR0FBRyxVQUNuQlYsRUFBSVUsR0FB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QUFwQixZQUNvQixLQUFwQixlQUN3QixLQUF4QixtREV4RkksRyxPQUFZLFlBQ2QsRUFDQXpFLEVYOElvQixJVzVJcEIsRUFDQSxLQUNBLEtBQ0EsT0F1QkYsRUFBVU4sUUFBUWdFLE9BQVMsaUNBQ1osWSIsImZpbGUiOiI0LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBeGlvcyBmcm9tICdheGlvcydcclxuaW1wb3J0IENvb2tpZSBmcm9tICdqcy1jb29raWUnXHJcbmNvbnN0IGF4aW9zID0gQXhpb3MuY3JlYXRlKHtcclxuICAgIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnXHJcbn0pXHJcblxyXG5heGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoIGNvbmZpZyA9PiB7XHJcbiAgICBjb25maWcuaGVhZGVyc1snZHMtdG9rZW4nXSA9IENvb2tpZVsnZHMtdG9rZW4nXTtcclxuICAgIHJldHVybiBjb25maWdcclxufSlcclxuZXhwb3J0IGRlZmF1bHQgYXhpb3MiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcXG4uY2hhcnQtbmF2IHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgICBwYWRkaW5nLXRvcDogMXB4O1xcbn1cXG4uYXBwLWNvbnRhaW5lciB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxufVxcbiNkYXRhLXBhbmVsIHtcXG4gICAgd2lkdGg6IDMwJTtcXG59XFxuI2NoYXJ0LXBhbmVsIHtcXG4gICAgd2lkdGg6IDcwJTtcXG59XFxuLmRyYWdnYWJsZS13cmFwcGVyIHtcXG4gICAgbWluLWhlaWdodDogMzBweDtcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkYWQ3ZDc7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIFtcbiAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImNoYXJ0LW5hdlwiIH0sIFtcbiAgICAgIF9jKFxuICAgICAgICBcInNwYW5cIixcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwic3BhblwiLCB7IG9uOiB7IGJhY2s6IF92bS5nb0JhY2sgfSB9LCBbXG4gICAgICAgICAgICBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1pY29uLWJhY2tcIiB9KSxcbiAgICAgICAgICAgIF92bS5fdihcIui/lOWbnlxcbiAgICAgICAgICAgIFwiKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXCJzcGFuXCIsIFtfdm0uX3YoXCLliJvlu7rlm77ooahcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJlbC1idXR0b25cIixcbiAgICAgICAgICAgIHsgYXR0cnM6IHsgdHlwZTogXCJ0ZXh0XCIgfSwgb246IHsgY2xpY2s6IF92bS5zaG93QWxsQ2hhcnQgfSB9LFxuICAgICAgICAgICAgW192bS5fdihcIuWFqOmDqOWbvuihqFwiKV1cbiAgICAgICAgICApXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXG4gICAgICAgIFwic3BhblwiLFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXCJlbC1idXR0b25cIiwgeyBhdHRyczogeyB0eXBlOiBcInByaW1hcnlcIiB9IH0sIFtfdm0uX3YoXCLkv53lrZhcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZWwtYnV0dG9uXCIsIHsgYXR0cnM6IHsgdHlwZTogXCJwcmltYXJ5XCIgfSB9LCBbXG4gICAgICAgICAgICBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJlbC1pY29uLWRvd25sb2FkXCIgfSlcbiAgICAgICAgICBdKVxuICAgICAgICBdLFxuICAgICAgICAxXG4gICAgICApXG4gICAgXSksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImFwcC1jb250YWluZXJcIiB9LFxuICAgICAgW1xuICAgICAgICBfYyhcbiAgICAgICAgICBcImVsLWNhcmRcIixcbiAgICAgICAgICB7IGF0dHJzOiB7IGlkOiBcImRhdGEtcGFuZWxcIiB9IH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX2MoXCJkYXRhLXBhbmVsXCIsIHtcbiAgICAgICAgICAgICAgcmVmOiBcImRhdGFQYW5lbFwiLFxuICAgICAgICAgICAgICBhdHRyczogeyBkaW1lbnNpb25zOiBfdm0uZGltZW5zaW9uTGlzdCB9LFxuICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5oYW5kbGVEYXRhU3JjQ2hhbmdlIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXSxcbiAgICAgICAgICAxXG4gICAgICAgICksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiZWwtY2FyZFwiLFxuICAgICAgICAgIHsgYXR0cnM6IHsgaWQ6IFwiY2hhcnQtcGFuZWxcIiB9IH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgIFwiZWwtZm9ybVwiLFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImVsLWZvcm0taXRlbVwiLFxuICAgICAgICAgICAgICAgICAgeyBhdHRyczogeyBsYWJlbDogXCLnu7TluqZcIiB9IH0sXG4gICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiZHJhZ2dhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZHJhZ2dhYmxlLXdyYXBwZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiB7IG5hbWU6IFwiY29sXCIsIHB1dDogdHJ1ZSwgcHVsbDogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5kaW1lbnNpb25MaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmRpbWVuc2lvbkxpc3QgPSAkJHZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJkaW1lbnNpb25MaXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fbChfdm0uZGltZW5zaW9uTGlzdCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImVsLXRhZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBpdGVtLkNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBjbG9zYWJsZTogXCJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uaGFuZGxlQ2xvc2VEaW1lbnNpb24oaXRlbS5JZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKGl0ZW0uQ29sdW1uKSldXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZWwtZm9ybS1pdGVtXCIsXG4gICAgICAgICAgICAgICAgICB7IGF0dHJzOiB7IGxhYmVsOiBcIuaVsOWAvFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJkcmFnZ2FibGVcIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJkcmFnZ2FibGUtd3JhcHBlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IHsgbmFtZTogXCJjb2xcIiwgcHV0OiB0cnVlLCBwdWxsOiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmNhbGN1bHV0aW9uTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5jYWxjdWx1dGlvbkxpc3QgPSAkJHZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJjYWxjdWx1dGlvbkxpc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5jYWxjdWx1dGlvbkxpc3QsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbC10YWdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogaXRlbS5Db2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgY2xvc2FibGU6IFwiXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmhhbmRsZUNsb3NlRmllbGQoaXRlbS5JZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKGl0ZW0uQ29sdW1uKSldXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgMVxuICAgICAgICApXG4gICAgICBdLFxuICAgICAgMVxuICAgIClcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgW1xuICAgICAgX2MoXG4gICAgICAgIFwiZWwtZm9ybVwiLFxuICAgICAgICB7IGF0dHJzOiB7IFwibGFiZWwtcG9zaXRpb25cIjogXCJ0b3BcIiB9IH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZWwtZm9ybS1pdGVtXCIsXG4gICAgICAgICAgICB7IGF0dHJzOiB7IGxhYmVsOiBcIuaVsOaNrua6kFwiIH0gfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJlbC1zZWxlY3RcIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBvbjogeyBjaGFuZ2U6IF92bS5kYXRhU3JjQ2hhbmdlIH0sXG4gICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnNlbGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLnNlbGVjdGVkID0gJCR2XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwic2VsZWN0ZWRcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5kYXRhU291cmNlTGlzdCwgZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcImVsLW9wdGlvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHZhbHVlOiBpdGVtLnZhbHVlLCBsYWJlbDogaXRlbS5sYWJlbCB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImVsLWZvcm0taXRlbVwiLFxuICAgICAgICAgICAgeyBhdHRyczogeyBsYWJlbDogXCLlrZfmrrVcIiB9IH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgIFwiZHJhZ2dhYmxlXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZTogX3ZtLmhhbmRsZU1vdmUsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiB7IG5hbWU6IFwiY29sXCIsIHB1dDogZmFsc2UsIHB1bGw6IFwiY2xvbmVcIiB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5zY2hlbWVzLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLnNjaGVtZXMgPSAkJHZcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJzY2hlbWVzXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcInRyYW5zaXRpb24tZ3JvdXBcIixcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5zY2hlbWVzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFwiZGl2XCIsIHsga2V5OiBpdGVtLkNvbHVtbiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKGl0ZW0uQ29sdW1uKSlcbiAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgIClcbiAgICAgICAgXSxcbiAgICAgICAgMVxuICAgICAgKVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiZXhwb3J0IHZhciB0YWJsZXMgPSBbXHJcbiAgICB7dmFsdWU6ICdjb21wbGV4aXR5JywgbGFiZWw6ICdjb21wbGV4aXR5J31cclxuXSIsImltcG9ydCBmZXRjaCBmcm9tICcuLi91dGlscy9mZXRjaCdcclxuZXhwb3J0IGZ1bmN0aW9uIGV4ZVNxbChzcWwpIHtcclxuICAgIHJldHVybiBmZXRjaCh7XHJcbiAgICAgICAgdXJsOiBgL2V4ZXNxbD9zcWw9JHtzcWx9YFxyXG4gICAgfSlcclxufSIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9kYXRhUGFuZWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZGF0YVBhbmVsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXY+XHJcbiAgICAgICAgPGVsLWZvcm0gbGFiZWwtcG9zaXRpb249XCJ0b3BcIj5cclxuICAgICAgICAgICAgPGVsLWZvcm0taXRlbSBsYWJlbD1cIuaVsOaNrua6kFwiID5cclxuICAgICAgICAgICAgICAgIDxlbC1zZWxlY3Qgdi1tb2RlbD1cInNlbGVjdGVkXCIgQGNoYW5nZT1cImRhdGFTcmNDaGFuZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZWwtb3B0aW9uIHYtZm9yPVwiKGl0ZW0sIGluZGV4KSBpbiBkYXRhU291cmNlTGlzdFwiIDprZXk9XCJpbmRleFwiIDp2YWx1ZT1cIml0ZW0udmFsdWVcIiA6bGFiZWw9XCJpdGVtLmxhYmVsXCI+PC9lbC1vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8L2VsLXNlbGVjdD5cclxuICAgICAgICAgICAgPC9lbC1mb3JtLWl0ZW0+XHJcbiAgICAgICAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9XCLlrZfmrrVcIj5cclxuICAgICAgICAgICAgICAgIDxkcmFnZ2FibGUgdi1tb2RlbD1cInNjaGVtZXNcIiA6bW92ZT1cImhhbmRsZU1vdmVcIiA6Z3JvdXA9XCJ7bmFtZTogJ2NvbCcsIHB1dDogZmFsc2UsIHB1bGw6ICdjbG9uZSd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyYW5zaXRpb24tZ3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgdi1mb3I9XCJpdGVtIGluIHNjaGVtZXNcIiA6a2V5PVwiaXRlbS5Db2x1bW5cIj57e2l0ZW0uQ29sdW1ufX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RyYW5zaXRpb24tZ3JvdXA+XHJcbiAgICAgICAgICAgICAgICA8L2RyYWdnYWJsZT5cclxuICAgICAgICAgICAgPC9lbC1mb3JtLWl0ZW0+XHJcbiAgICAgICAgPC9lbC1mb3JtPlxyXG4gICAgPC9kaXY+XHJcbjwvdGVtcGxhdGU+XHJcbjxzY3JpcHQ+XHJcbiAgICBpbXBvcnQgeyB0YWJsZXMgfSBmcm9tICcuLi8uLi8uLi9tb2NrL2RhdGFTb3VyY2UnXHJcbiAgICBpbXBvcnQgeyBleGVTcWwgfSBmcm9tICcuLi8uLi8uLi9hcGkvZXhlU3FsJ1xyXG4gICAgaW1wb3J0IGRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnXHJcbiAgICBleHBvcnQgZGVmYXVsdCB7XHJcbiAgICAgICAgbmFtZTogJ2RhdGEtcGFuZWwnLFxyXG4gICAgICAgIGNvbXBvbmVudHM6IHtkcmFnZ2FibGV9LFxyXG4gICAgICAgIGRhdGEoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogJycsXHJcbiAgICAgICAgICAgICAgICBkYXRhU291cmNlTGlzdDogW10sXHJcbiAgICAgICAgICAgICAgICBzY2hlbWVzOiBbXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICBkaW1lbnNpb25zOiB7dHlwZTogQXJyYXl9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIGluaXREYXRhUGFuZWwoc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGFuZGxlTW92ZShldnQsIHkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2dC5kcmFnZ2VkQ29udGV4dC5lbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5kaW1lbnNpb25zLmZpbmQoIGl0ZW0gPT4gZXZ0LmRyYWdnZWRDb250ZXh0LmVsZW1lbnQgPT09IGl0ZW0gKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YVNyY0NoYW5nZSgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuc2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mZXRjaFNjaGVtKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZldGNoU2NoZW0oKSB7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZW1lcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBleGVTcWwoYGRlc2MgJHt0aGlzLnNlbGVjdGVkfWApLnRoZW4oIChyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjaGVtZUFycmF5ID0gcmVzcC5kYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjaGVtZUFycmF5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVtZXMgPSBzY2hlbWVBcnJheS5tYXAoIChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZTogaXRlbS5UeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbHVtbjogaXRlbS5GaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZWQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZUxpc3QgPSB0YWJsZXNcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZWQoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubGlzdClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbjwvc2NyaXB0PiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vZGF0YVBhbmVsLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yNzYwNjNjMCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9kYXRhUGFuZWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9kYXRhUGFuZWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCJEOlxcXFx3ZWJcXFxcdnVlLXN0YXJ0XFxcXG5vZGVfbW9kdWxlc1xcXFx2dWUtaG90LXJlbG9hZC1hcGlcXFxcZGlzdFxcXFxpbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzI3NjA2M2MwJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzI3NjA2M2MwJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzI3NjA2M2MwJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9kYXRhUGFuZWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI3NjA2M2MwJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzI3NjA2M2MwJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvdmlld3MvQ2hhcnRQYW5lbC9jb21wb25lbnRzL2RhdGFQYW5lbC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJleHBvcnQgY29uc3QgZGF0YVR5cGUgPSBbXHJcbiAgICB7IG5hbWU6ICd0aW55aW50JywgbmVlZFF1b3RhdGlvbjogZmFsc2UsIGF2YWlsYWJsZUZ1bmM6IFsnc3VtJywgJ2F2ZycsICdtYXgnLCAnbWluJywgJ2NvdW50JywgJ25vbmUnXSB9LFxyXG4gICAgeyBuYW1lOiAnc21hbGxpbnQnLCBuZWVkUXVvdGF0aW9uOiBmYWxzZSwgYXZhaWxhYmxlRnVuYzogWydzdW0nLCAnYXZnJywgJ21heCcsICdtaW4nLCAnY291bnQnLCAnbm9uZSddIH0sXHJcbiAgICB7IG5hbWU6ICdtZWRpdW1pbnQnLCBuZWVkUXVvdGF0aW9uOiBmYWxzZSwgYXZhaWxhYmxlRnVuYzogWydzdW0nLCAnYXZnJywgJ21heCcsICdtaW4nLCAnY291bnQnLCAnbm9uZSddIH0sXHJcbiAgICB7IG5hbWU6ICdpbnQnLCBuZWVkUXVvdGF0aW9uOiBmYWxzZSwgYXZhaWxhYmxlRnVuYzogWydzdW0nLCAnYXZnJywgJ21heCcsICdtaW4nLCAnY291bnQnLCAnbm9uZSddIH0sXHJcbiAgICB7IG5hbWU6ICdiaWdpbnQnLCBuZWVkUXVvdGF0aW9uOiBmYWxzZSwgYXZhaWxhYmxlRnVuYzogWydzdW0nLCAnYXZnJywgJ21heCcsICdtaW4nLCAnY291bnQnLCAnbm9uZSddIH0sXHJcbiAgICB7IG5hbWU6ICdmbG9hdCcsIG5lZWRRdW90YXRpb246IGZhbHNlLCBhdmFpbGFibGVGdW5jOiBbJ3N1bScsICdhdmcnLCAnbWF4JywgJ21pbicsICdjb3VudCcsICdub25lJ10gfSxcclxuICAgIHsgbmFtZTogJ2RvdWJsZScsIG5lZWRRdW90YXRpb246IGZhbHNlLCBhdmFpbGFibGVGdW5jOiBbJ3N1bScsICdhdmcnLCAnbWF4JywgJ21pbicsICdjb3VudCcsICdub25lJ10gfSxcclxuICAgIHsgbmFtZTogJ3JlYWwnLCBuZWVkUXVvdGF0aW9uOiBmYWxzZSwgYXZhaWxhYmxlRnVuYzogWydzdW0nLCAnYXZnJywgJ21heCcsICdtaW4nLCAnY291bnQnLCAnbm9uZSddIH0sXHJcbiAgICB7IG5hbWU6ICdkZWNpbWFsJywgbmVlZFF1b3RhdGlvbjogZmFsc2UsIGF2YWlsYWJsZUZ1bmM6IFsnc3VtJywgJ2F2ZycsICdtYXgnLCAnbWluJywgJ2NvdW50JywgJ25vbmUnXSB9LFxyXG4gICAgeyBuYW1lOiAndGltZXN0YW1wJywgbmVlZFF1b3RhdGlvbjogZmFsc2UsIGF2YWlsYWJsZUZ1bmM6IFsnY291bnQnLCAnbm9uZSddIH0sXHJcbiAgICB7IG5hbWU6ICdkYXRlJywgbmVlZFF1b3RhdGlvbjogdHJ1ZSwgYXZhaWxhYmxlRnVuYzogWydjb3VudCcsICdub25lJ10gfSxcclxuICAgIHsgbmFtZTogJ3RpbWUnLCBuZWVkUXVvdGF0aW9uOiB0cnVlLCBhdmFpbGFibGVGdW5jOiBbJ2NvdW50JywgJ25vbmUnXSB9LFxyXG4gICAgeyBuYW1lOiAnZGF0ZXRpbWUnLCBuZWVkUXVvdGF0aW9uOiB0cnVlLCBhdmFpbGFibGVGdW5jOiBbJ2NvdW50JywgJ25vbmUnXSB9LFxyXG4gICAgeyBuYW1lOiAneWVhcicsIG5lZWRRdW90YXRpb246IHRydWUsIGF2YWlsYWJsZUZ1bmM6IFsnY291bnQnLCAnbm9uZSddIH0sXHJcbiAgICB7IG5hbWU6ICdjaGFyJywgbmVlZFF1b3RhdGlvbjogdHJ1ZSwgYXZhaWxhYmxlRnVuYzogWydjb3VudCcsICdub25lJ10gfSxcclxuICAgIHsgbmFtZTogJ3ZhcmNoYXInLCBuZWVkUXVvdGF0aW9uOiB0cnVlLCBhdmFpbGFibGVGdW5jOiBbJ2NvdW50JywgJ25vbmUnXSB9LFxyXG4gICAgeyBuYW1lOiAndGlueXRleHQnLCBuZWVkUXVvdGF0aW9uOiB0cnVlLCBhdmFpbGFibGVGdW5jOiBbJ2NvdW50JywgJ25vbmUnXSB9LFxyXG4gICAgeyBuYW1lOiAndGV4dCcsIG5lZWRRdW90YXRpb246IHRydWUsIGF2YWlsYWJsZUZ1bmM6IFsnY291bnQnLCAnbm9uZSddIH0sXHJcbiAgICB7IG5hbWU6ICdtZWRpdW10ZXh0JywgbmVlZFF1b3RhdGlvbjogdHJ1ZSwgYXZhaWxhYmxlRnVuYzogWydjb3VudCcsICdub25lJ10gfSxcclxuICAgIHsgbmFtZTogJ2xvbmd0ZXh0JywgbmVlZFF1b3RhdGlvbjogdHJ1ZSwgYXZhaWxhYmxlRnVuYzogWydjb3VudCcsICdub25lJ10gfSxcclxuICAgIHsgbmFtZTogJ2ludGVnZXInLCBuZWVkUXVvdGF0aW9uOiBmYWxzZSwgYXZhaWxhYmxlRnVuYzogWydzdW0nLCAnYXZnJywgJ21heCcsICdtaW4nLCAnY291bnQnLCAnbm9uZSddIH1cclxuICBdXHJcbiAgIiwiaW1wb3J0IHsgZGF0YVR5cGUgfSBmcm9tICcuL2NvbmZpZ3MnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJpbUNvbFR5cGUoc3RyKSB7XHJcbiAgbGV0IGNvbFR5cGVcclxuICBpZiAoc3RyLmluZGV4T2YoJygnKSA+PSAwKSB7XHJcbiAgICBjb2xUeXBlID0gZGF0YVR5cGUuZmluZCh0eXBlID0+IHR5cGUubmFtZSA9PT0gc3RyLnNwbGl0KCcoJylbMF0pXHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbFR5cGUgPSBkYXRhVHlwZS5maW5kKHR5cGUgPT4gdHlwZS5uYW1lID09PSBzdHIpXHJcbiAgfVxyXG4gIHJldHVybiBjb2xUeXBlXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZFNxbFNlbnRlbmNlKHsgZGF0YVNyYywgc2VsZWN0ZWRDYWxjdWwsIHNlbGVjdGVkRGltZW5zaW9uLCBvcmRlckJ5U3RycywgZmlsdGVyU3RyLCBsaW1pdCB9KSB7XHJcbiAgbGV0IGZpZWxkcyA9IFtdXHJcbiAgY29uc3QgZ3JvdXBzID0gW11cclxuICBsZXQgZ3JvdXBCeVxyXG4gIGxldCBvcmRlckJ5XHJcbiAgbGV0IHdoZXJlXHJcbiAgbGV0IGFsbFNlbGVjdGVkID0gW11cclxuICBhbGxTZWxlY3RlZCA9IGFsbFNlbGVjdGVkLmNvbmNhdChzZWxlY3RlZENhbGN1bCkuY29uY2F0KHNlbGVjdGVkRGltZW5zaW9uKVxyXG4gIGZpZWxkcyA9IGFsbFNlbGVjdGVkLm1hcChmaWVsZCA9PiB7XHJcbiAgICBjb25zdCBjYWxjdWxGaWVsZCA9IHNlbGVjdGVkQ2FsY3VsLmZpbmQoY29sID0+IGNvbC5Db2x1bW4gPT09IGZpZWxkLkNvbHVtbilcclxuICAgIGlmIChjYWxjdWxGaWVsZCAmJiBjYWxjdWxGaWVsZC5jYWxjdWxGdW5jICE9PSAnbm9uZScpIHtcclxuICAgICAgcmV0dXJuIGAke2NhbGN1bEZpZWxkLmNhbGN1bEZ1bmMgfHwgdHJpbUNvbFR5cGUoY2FsY3VsRmllbGQuVHlwZSkuYXZhaWxhYmxlRnVuY1swXX0oJHtjYWxjdWxGaWVsZC5Db2x1bW59KSBhcyAke2NhbGN1bEZpZWxkLkNvbHVtbn1gXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBncm91cHMucHVzaChmaWVsZC5Db2x1bW4pXHJcbiAgICAgIHJldHVybiBmaWVsZC5Db2x1bW5cclxuICAgIH1cclxuICB9KVxyXG4gIGlmIChmaWVsZHMubGVuZ3RoID09PSAwIHx8ICFkYXRhU3JjKSByZXR1cm5cclxuICBpZiAoZ3JvdXBzLmxlbmd0aCA+IDApIHtcclxuICAgIGdyb3VwQnkgPSBgR1JPVVAgQlkgJHtncm91cHMuam9pbigpfWBcclxuICB9XHJcbiAgaWYgKG9yZGVyQnlTdHJzLmxlbmd0aCA+IDApIHtcclxuICAgIG9yZGVyQnkgPSBgT1JERVIgQlkgJHtvcmRlckJ5U3Rycy5qb2luKCl9YFxyXG4gIH1cclxuICBpZiAoZmlsdGVyU3RyKSB7XHJcbiAgICB3aGVyZSA9IGB3aGVyZSAke2ZpbHRlclN0cn1gXHJcbiAgfVxyXG5cclxuICByZXR1cm4gYFNFTEVDVCAke2ZpZWxkcy5qb2luKCl9IEZST00gJHtkYXRhU3JjfSAke3doZXJlIHx8ICcnfSAke2dyb3VwQnkgfHwgJyd9ICR7b3JkZXJCeSB8fCAnJ30gTElNSVQgJHtsaW1pdCB8fCAyMDB9YFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRGaWx0ZXJTZW50ZW5jZShmaWx0ZXIpIHtcclxuICBsZXQgZmlsdGVyU2VudGVuY2VcclxuICBsZXQgdmFsdWVPYmogPSBmaWx0ZXIudmFsdWVcclxuICBpZiAodHJpbUNvbFR5cGUoZmlsdGVyLmNvbFR5cGUpLm5lZWRRdW90YXRpb24pIHtcclxuICAgIHZhbHVlT2JqID0gYWRkUXVvdGF0aW9uKGZpbHRlci52YWx1ZSlcclxuICB9XHJcbiAgaWYgKGZpbHRlci5vcGVyYXRvclBhcmFtTnVtID09PSAxKSB7XHJcbiAgICBmaWx0ZXJTZW50ZW5jZSA9IGAke2ZpbHRlci5maWx0ZUNvbH0gJHtmaWx0ZXIuZmlsdGVyT3BlcmF0b3J9ICR7dmFsdWVPYmoudmFsdWUxfWBcclxuICB9IGVsc2UgaWYgKGZpbHRlci5vcGVyYXRvclBhcmFtTnVtID09PSAyKSB7XHJcbiAgICBmaWx0ZXJTZW50ZW5jZSA9IGAke2ZpbHRlci5maWx0ZUNvbH0gJHtmaWx0ZXIuZmlsdGVyT3BlcmF0b3J9ICR7dmFsdWVPYmoudmFsdWUxfSBhbmQgJHt2YWx1ZU9iai52YWx1ZTJ9YFxyXG4gIH0gZWxzZSB7XHJcbiAgICBmaWx0ZXJTZW50ZW5jZSA9IGAke2ZpbHRlci5maWx0ZUNvbH0gJHtmaWx0ZXIuZmlsdGVyT3BlcmF0b3J9ICgnJHt2YWx1ZU9iai5hcnJWYWx1ZS5qb2luKCcsJyl9JylgXHJcbiAgfVxyXG4gIHJldHVybiBmaWx0ZXJTZW50ZW5jZVxyXG4gIGZ1bmN0aW9uIGFkZFF1b3RhdGlvbih2YWx1ZU9iaikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdmFsdWUxOiBgJyR7dmFsdWVPYmoudmFsdWUxfSdgLFxyXG4gICAgICB2YWx1ZTI6IGAnJHt2YWx1ZU9iai52YWx1ZTJ9J2AsXHJcbiAgICAgIGFyclZhbHVlOiB2YWx1ZU9iai5hcnJWYWx1ZS5tYXAodmFsdWUgPT4gYCcke3ZhbHVlfSdgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCI8dGVtcGxhdGU+XHJcbiAgICA8ZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGFydC1uYXZcIj5cclxuICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBAYmFjaz1cImdvQmFja1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZWwtaWNvbi1iYWNrXCI+PC9pPui/lOWbnlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+5Yib5bu65Zu+6KGoPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGVsLWJ1dHRvbiBAY2xpY2s9XCJzaG93QWxsQ2hhcnRcIiB0eXBlPVwidGV4dFwiPuWFqOmDqOWbvuihqDwvZWwtYnV0dG9uPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgPGVsLWJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiPuS/neWtmDwvZWwtYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGVsLWJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiPjxpIGNsYXNzPVwiZWwtaWNvbi1kb3dubG9hZFwiPjwvaT48L2VsLWJ1dHRvbj5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhcHAtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIDxlbC1jYXJkIGlkPVwiZGF0YS1wYW5lbFwiPlxyXG4gICAgICAgICAgICAgICAgPGRhdGEtcGFuZWwgOmRpbWVuc2lvbnM9XCJkaW1lbnNpb25MaXN0XCIgcmVmPVwiZGF0YVBhbmVsXCIgQGNoYW5nZT1cImhhbmRsZURhdGFTcmNDaGFuZ2VcIj48L2RhdGEtcGFuZWw+XHJcbiAgICAgICAgICAgIDwvZWwtY2FyZD5cclxuICAgICAgICAgICAgPGVsLWNhcmQgaWQ9XCJjaGFydC1wYW5lbFwiPlxyXG4gICAgICAgICAgICAgICAgPGVsLWZvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGVsLWZvcm0taXRlbSBsYWJlbD1cIue7tOW6plwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZHJhZ2dhYmxlIGNsYXNzPVwiZHJhZ2dhYmxlLXdyYXBwZXJcIiB2LW1vZGVsPVwiZGltZW5zaW9uTGlzdFwiIDpncm91cD1cIntuYW1lOiAnY29sJywgcHV0OiB0cnVlLCBwdWxsOiB0cnVlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVsLXRhZyB2LWZvcj1cIml0ZW0gaW4gZGltZW5zaW9uTGlzdFwiIDprZXk9XCJpdGVtLkNvbHVtblwiIGNsb3NhYmxlIEBjbG9zZT1cImhhbmRsZUNsb3NlRGltZW5zaW9uKGl0ZW0uSWQpXCI+e3tpdGVtLkNvbHVtbn19PC9lbC10YWc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZHJhZ2dhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZWwtZm9ybS1pdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9XCLmlbDlgLxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRyYWdnYWJsZSBjbGFzcz1cImRyYWdnYWJsZS13cmFwcGVyXCIgdi1tb2RlbD1cImNhbGN1bHV0aW9uTGlzdFwiIDpncm91cD1cIntuYW1lOiAnY29sJywgcHV0OiB0cnVlLCBwdWxsOiB0cnVlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVsLXRhZyB2LWZvcj1cIml0ZW0gaW4gY2FsY3VsdXRpb25MaXN0XCIgOmtleT1cIml0ZW0uQ29sdW1uXCIgY2xvc2FibGUgQGNsb3NlPVwiaGFuZGxlQ2xvc2VGaWVsZChpdGVtLklkKVwiPnt7aXRlbS5Db2x1bW59fTwvZWwtdGFnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2RyYWdnYWJsZT5cclxuICAgICAgICAgICAgICAgICAgICA8L2VsLWZvcm0taXRlbT5cclxuICAgICAgICAgICAgICAgIDwvZWwtZm9ybT5cclxuICAgICAgICAgICAgPC9lbC1jYXJkPlxyXG4gICAgICAgIDwvZGl2PiAgICAgICBcclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG48c2NyaXB0PlxyXG4gICAgaW1wb3J0IGRhdGFQYW5lbCBmcm9tICcuL2NvbXBvbmVudHMvZGF0YVBhbmVsLnZ1ZSdcclxuICAgIGltcG9ydCBkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJ1xyXG4gICAgaW1wb3J0IHsgYnVpbGRTcWxTZW50ZW5jZSB9IGZyb20gJy4uLy4uL3V0aWxzL2J1aWxkU2VudGVuY2UnXHJcbiAgICBpbXBvcnQgeyBleGVTcWwgfSBmcm9tICcuLi8uLi9hcGkvZXhlU3FsJ1xyXG4gICAgZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgICAgIGRhdGEoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25MaXN0OiBbXSxcclxuICAgICAgICAgICAgICAgIGNhbGN1bHV0aW9uTGlzdDpbXSxcclxuICAgICAgICAgICAgICAgIGZpbHRlclN0cjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgbGltaXQ6IDIwMCxcclxuICAgICAgICAgICAgICAgIG9yZGVyQnlTdHJzOiBbXSxcclxuICAgICAgICAgICAgICAgIGRhdGFTcmM6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29tcG9uZW50czoge2RhdGFQYW5lbCwgZHJhZ2dhYmxlfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIGdvQmFjaygpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNob3dBbGxDaGFydCgpIHtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhhbmRsZUNsb3NlRGltZW5zaW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbkxpc3Quc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoYW5kbGVDbG9zZUZpZWxkKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpZWxkTGlzdC5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhhbmRsZURhdGFTcmNDaGFuZ2UodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVNyYyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wdXRlZDoge1xyXG4gICAgICAgICAgICBzcWxTZW50ZW5jZSgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWlsZFNxbFNlbnRlbmNlKHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhU3JjOiB0aGlzLmRhdGFTcmMsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREaW1lbnNpb246IHRoaXMuZGltZW5zaW9uTGlzdCxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZENhbGN1bDogdGhpcy5jYWxjdWx1dGlvbkxpc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU3RyOiB0aGlzLmZpbHRlclN0cixcclxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogdGhpcy5saW1pdCxcclxuICAgICAgICAgICAgICAgICAgICBvcmRlckJ5U3RyczogdGhpcy5vcmRlckJ5U3Ryc31cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgd2F0Y2g6IHtcclxuICAgICAgICAgICAgc3FsU2VudGVuY2U6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3VmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgZXhlU3FsKG5ld1ZhbHVlKS50aGVuKCByZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICckcm91dGUucGFyYW1zLmlkJzoge1xyXG4gICAgICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IFwiY3JlYXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhU3JjID0gXCJhXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZGF0YVBhbmVsLmluaXREYXRhUGFuZWwodGhpcy5kYXRhU3JjKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG48L3NjcmlwdD5cclxuPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxyXG4gICAgLmNoYXJ0LW5hdiB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDFweDtcclxuICAgIH1cclxuICAgIC5hcHAtY29udGFpbmVyIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgfVxyXG4gICAgI2RhdGEtcGFuZWwge1xyXG4gICAgICAgIHdpZHRoOiAzMCU7XHJcbiAgICB9XHJcbiAgICAjY2hhcnQtcGFuZWwge1xyXG4gICAgICAgIHdpZHRoOiA3MCU7XHJcbiAgICB9XHJcbiAgICAuZHJhZ2dhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgIG1pbi1oZWlnaHQ6IDMwcHg7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkYWQ3ZDc7XHJcbiAgICB9XHJcbjwvc3R5bGU+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTU3OTZjMjAzJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCJEOlxcXFx3ZWJcXFxcdnVlLXN0YXJ0XFxcXG5vZGVfbW9kdWxlc1xcXFx2dWUtaG90LXJlbG9hZC1hcGlcXFxcZGlzdFxcXFxpbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzU3OTZjMjAzJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzU3OTZjMjAzJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzU3OTZjMjAzJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9pbmRleC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTc5NmMyMDMmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNTc5NmMyMDMnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy92aWV3cy9DaGFydFBhbmVsL2luZGV4LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=